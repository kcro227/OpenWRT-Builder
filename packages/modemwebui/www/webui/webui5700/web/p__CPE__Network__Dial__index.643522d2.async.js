"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[301],{73583:function(Nr,fe,D){D.r(fe);var Re=D(64599),he=D.n(Re),We=D(97857),a=D.n(We),Ne=D(15009),p=D.n(Ne),$e=D(99289),g=D.n($e),Ke=D(5574),M=D.n(Ke),Ge=D(59955),H=D(45605),Ve=D(33160),xe=D(78301),E=D(2453),re=D(41730),N=D(66309),j=D(78957),G=D(77683),Q=D(36039),Y=D(83062),ze=D(72269),J=D(48054),O=D(26412),x=D(86744),y=D(76560),X=D(40056),He=D(47315),V=D(8232),Qe=D(71230),Ee=D(15746),b=D(67294),r=D(85893),Ye=xe.Z.Text,Je=[{value:"IP",label:"IPv4"},{value:"IPV6",label:"IPv6"},{value:"IPV4V6",label:"IPv4/IPv6"}],Xe={cid:1,type:"IPV4V6",apn:"",pdp_addr:"",d_comp:0,h_comp:0},_e=function(){var qe=(0,b.useState)({dialSettings:!0,usbMode:!0,pdpContexts:!0,apnSettings:!1,directIp:!1,infcfg:!1}),ve=M()(qe,2),U=ve[0],F=ve[1],er=(0,b.useState)(!0),Fe=M()(er,2),Kr=Fe[0],Gr=Fe[1],rr=(0,b.useState)({enable:0,dialMode:0,protocol:"",apn:"",username:"",password:"",authType:0}),Ce=M()(rr,2),m=Ce[0],L=Ce[1],f=(0,b.useRef)(!0),T=(0,b.useRef)(Ge.S.getInstance()),ur=(0,b.useState)(!1),me=M()(ur,2),nr=me[0],te=me[1],ar=(0,b.useState)(!1),De=M()(ar,2),sr=De[0],ie=De[1],tr=(0,b.useState)(null),ge=M()(tr,2),_=ge[0],le=ge[1],ir=(0,b.useState)(null),Pe=M()(ir,2),ue=Pe[0],ce=Pe[1],lr=(0,b.useState)([]),Ae=M()(lr,2),z=Ae[0],de=Ae[1],cr=(0,b.useState)(1),Be=M()(cr,2),be=Be[0],Vr=Be[1],dr=(0,b.useState)("IPV4V6"),we=M()(dr,2),xr=we[0],or=we[1],pr=(0,b.useState)(!1),je=M()(pr,2),zr=je[0],Ze=je[1],fr=(0,b.useState)({apn:"",username:"",password:"",authType:0}),ye=M()(fr,2),R=ye[0],q=ye[1],hr=(0,b.useState)([]),Se=M()(hr,2),Hr=Se[0],Er=Se[1],vr=(0,b.useState)(!1),Me=M()(vr,2),Te=Me[0],ne=Me[1],Fr=(0,b.useState)(null),Ie=M()(Fr,2),P=Ie[0],$=Ie[1],Cr=(0,b.useState)(!1),ke=M()(Cr,2),ee=ke[0],mr=ke[1],W=function(){var o=g()(p()().mark(function t(n){var l,s,e=arguments;return p()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return l=e.length>1&&e[1]!==void 0?e[1]:3,s=e.length>2&&e[2]!==void 0?e[2]:1e3,i.prev=2,i.next=5,n();case 5:return i.abrupt("return",i.sent);case 8:if(i.prev=8,i.t0=i.catch(2),l!==0){i.next=12;break}throw i.t0;case 12:return i.next=14,new Promise(function(c){return setTimeout(c,s)});case 14:return i.abrupt("return",W(n,l-1,s));case 15:case"end":return i.stop()}},t,null,[[2,8]])}));return function(n){return o.apply(this,arguments)}}(),w=function(){var o=g()(p()().mark(function t(n){var l,s=arguments;return p()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return l=s.length>1&&s[1]!==void 0?s[1]:100,u.next=3,new Promise(function(i){return setTimeout(i,l)});case 3:return u.abrupt("return",T.current.sendCommand(n));case 4:case"end":return u.stop()}},t)}));return function(n){return o.apply(this,arguments)}}(),K=function(){var o=g()(p()().mark(function t(){var n,l,s,e,u,i,c,h,d,C,k,A;return p()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(f.current){v.next=2;break}return v.abrupt("return");case 2:return v.prev=2,F(function(B){return a()(a()({},B),{},{dialSettings:!0})}),v.next=6,T.current.connect();case 6:return v.next=8,W(g()(p()().mark(function B(){var S;return p()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,w("AT^SETAUTODIAL?");case 2:if(S=I.sent,S.success){I.next=5;break}throw new Error("\u83B7\u53D6\u62E8\u53F7\u914D\u7F6E\u5931\u8D25");case 5:return I.abrupt("return",S);case 6:case"end":return I.stop()}},B)})));case 8:n=v.sent,n.data&&(l=n.data.trim(),s=l.match(/\^SETAUTODIAL:(\d+),(\d+),"([^"]*)",?"?([^",]*)"?,?"?([^",]*)"?,?"?([^",]*)"?,(\d+)/),s?(e=M()(s,8),u=e[0],i=e[1],c=e[2],h=e[3],d=e[4],C=e[5],k=e[6],A=e[7],L(function(B){return a()(a()({},B),{},{enable:parseInt(i,10),dialMode:parseInt(c,10),protocol:h||"",apn:d||"",username:C||"",password:k||"",authType:parseInt(A,10)})})):(console.warn("\u89E3\u6790\u62E8\u53F7\u914D\u7F6E\u5931\u8D25\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u503C"),L(function(B){return a()(a()({},B),{},{enable:0,dialMode:2,protocol:"",apn:"",username:"",password:"",authType:0})}))),v.next=16;break;case 12:v.prev=12,v.t0=v.catch(2),console.error("\u83B7\u53D6\u62E8\u53F7\u914D\u7F6E\u5931\u8D25:",v.t0),L(function(B){return a()(a()({},B),{},{enable:0,dialMode:2,protocol:"",apn:"",username:"",password:"",authType:0})});case 16:return v.prev=16,f.current&&F(function(B){return a()(a()({},B),{},{dialSettings:!1})}),v.finish(16);case 19:case"end":return v.stop()}},t,null,[[2,12,16,19]])}));return function(){return o.apply(this,arguments)}}(),Oe=function(){var o=g()(p()().mark(function t(){var n,l,s;return p()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(f.current){u.next=2;break}return u.abrupt("return");case 2:return u.prev=2,F(function(i){return a()(a()({},i),{},{usbMode:!0})}),u.next=6,T.current.connect();case 6:return u.next=8,W(g()(p()().mark(function i(){var c;return p()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,w("AT^SETMODE?");case 2:if(c=d.sent,c.success){d.next=5;break}throw new Error("\u83B7\u53D6USB\u6A21\u5F0F\u5931\u8D25");case 5:return d.abrupt("return",c);case 6:case"end":return d.stop()}},i)})));case 8:n=u.sent,n.data&&(l=n.data.trim(),s=parseInt(l,10),isNaN(s)?(console.warn("\u89E3\u6790USB\u6A21\u5F0F\u5931\u8D25\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u503C"),L(function(i){return a()(a()({},i),{},{usbMode:0})})):L(function(i){return a()(a()({},i),{},{usbMode:s})})),u.next=16;break;case 12:u.prev=12,u.t0=u.catch(2),console.error("\u83B7\u53D6USB\u6A21\u5F0F\u5931\u8D25:",u.t0),L(function(i){return a()(a()({},i),{},{usbMode:0})});case 16:return u.prev=16,f.current&&F(function(i){return a()(a()({},i),{},{usbMode:!1})}),u.finish(16);case 19:case"end":return u.stop()}},t,null,[[2,12,16,19]])}));return function(){return o.apply(this,arguments)}}(),ae=function(){var o=g()(p()().mark(function t(){var n,l,s,e,u,i,c,h,d,C,k,A;return p()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(f.current){v.next=2;break}return v.abrupt("return");case 2:return v.prev=2,F(function(B){return a()(a()({},B),{},{pdpContexts:!0})}),v.next=6,T.current.connect();case 6:return v.next=8,W(g()(p()().mark(function B(){var S;return p()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,w("AT+CGDCONT?",50);case 2:if(S=I.sent,S.success){I.next=5;break}throw new Error("\u83B7\u53D6PDP\u4E0A\u4E0B\u6587\u5931\u8D25");case 5:return I.abrupt("return",S);case 6:case"end":return I.stop()}},B)})));case 8:if(n=v.sent,l=[],n.data){s=n.data.toString().trim(),e=s.split(`
`),u=he()(e);try{for(u.s();!(i=u.n()).done;)c=i.value,c.startsWith("+CGDCONT:")&&(h=c.split(","),h.length>=3&&(d=parseInt(h[0].split(":")[1].trim(),10),C=h[1].replace(/"/g,""),k=h[2].replace(/"/g,""),d<21&&l.push({cid:d,type:C,apn:k,active:!1})))}catch(B){u.e(B)}finally{u.f()}}l.sort(function(B,S){return B.cid-S.cid}),f.current&&(de(l),A=l.find(function(B){return B.cid===be}),A&&or(A.type)),v.next=19;break;case 15:v.prev=15,v.t0=v.catch(2),console.error("\u83B7\u53D6PDP\u4E0A\u4E0B\u6587\u5931\u8D25:",v.t0),f.current&&de([]);case 19:return v.prev=19,f.current&&F(function(B){return a()(a()({},B),{},{pdpContexts:!1})}),v.finish(19);case 22:case"end":return v.stop()}},t,null,[[2,15,19,22]])}));return function(){return o.apply(this,arguments)}}(),Qr=function(){var t,n,l=z.find(function(u){return u.cid===8});if(l&&((t=l.apn)===null||t===void 0?void 0:t.toLowerCase())!=="ims")return 8;var s=z.find(function(u){return u.cid===1});if(s&&((n=s.apn)===null||n===void 0?void 0:n.toLowerCase())!=="ims")return 1;var e=z.find(function(u){var i;return((i=u.apn)===null||i===void 0?void 0:i.toLowerCase())!=="ims"});return(e==null?void 0:e.cid)||8},Yr=function(){var o=g()(p()().mark(function t(n){var l;return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.current){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,Ze(!0),e.next=6,T.current.connect();case 6:return e.next=8,w("AT+CGDCONT=".concat(be,',"').concat(n,'"'));case 8:if(l=e.sent,!(l.success&&f.current)){e.next=15;break}return E.ZP.success("PDP\u534F\u8BAE\u7C7B\u578B\u8BBE\u7F6E\u6210\u529F"),e.next=13,ae();case 13:e.next=16;break;case 15:throw new Error("\u8BBE\u7F6EPDP\u7C7B\u578B\u5931\u8D25");case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),f.current&&(console.error("\u8BBE\u7F6EPDP\u7C7B\u578B\u5931\u8D25:",e.t0),E.ZP.error("\u8BBE\u7F6E\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"));case 21:return e.prev=21,f.current&&Ze(!1),e.finish(21);case 24:case"end":return e.stop()}},t,null,[[2,18,21,24]])}));return function(n){return o.apply(this,arguments)}}(),Jr=function(){var o=g()(p()().mark(function t(){var n,l;return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.current){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,T.current.connect();case 5:return E.ZP.loading("\u6B63\u5728\u5F00\u542F\u98DE\u884C\u6A21\u5F0F..."),e.next=8,w("AT+CFUN=0");case 8:if(n=e.sent,n.success){e.next=11;break}throw new Error("\u5F00\u542F\u98DE\u884C\u6A21\u5F0F\u5931\u8D25");case 11:return e.next=13,new Promise(function(u){return setTimeout(u,2e3)});case 13:return E.ZP.loading("\u6B63\u5728\u5173\u95ED\u98DE\u884C\u6A21\u5F0F..."),e.next=16,w("AT+CFUN=1");case 16:if(l=e.sent,l.success){e.next=19;break}throw new Error("\u5173\u95ED\u98DE\u884C\u6A21\u5F0F\u5931\u8D25");case 19:E.ZP.success("\u8BBE\u5907\u91CD\u542F\u5B8C\u6210"),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(2),console.error("\u8F6F\u91CD\u542F\u8BBE\u5907\u5931\u8D25:",e.t0),E.ZP.error("\u8F6F\u91CD\u542F\u5931\u8D25\uFF0C\u8BF7\u5C1D\u8BD5\u624B\u52A8\u91CD\u542F\u8BBE\u5907");case 26:case"end":return e.stop()}},t,null,[[2,22]])}));return function(){return o.apply(this,arguments)}}();(0,b.useEffect)(function(){f.current=!0;var o=function(){var t=g()(p()().mark(function n(){return p()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,T.current.connect();case 3:return s.prev=3,F(function(e){return a()(a()({},e),{},{dialSettings:!0})}),s.next=7,K();case 7:s.next=13;break;case 9:s.prev=9,s.t0=s.catch(3),console.error("\u52A0\u8F7D\u62E8\u53F7\u8BBE\u7F6E\u5931\u8D25:",s.t0),E.ZP.error("\u52A0\u8F7D\u62E8\u53F7\u8BBE\u7F6E\u5931\u8D25");case 13:return s.prev=13,f.current&&F(function(e){return a()(a()({},e),{},{dialSettings:!1})}),s.finish(13);case 16:return s.prev=16,F(function(e){return a()(a()({},e),{},{usbMode:!0})}),s.next=20,Oe();case 20:s.next=26;break;case 22:s.prev=22,s.t1=s.catch(16),console.error("\u52A0\u8F7DUSB\u6A21\u5F0F\u5931\u8D25:",s.t1),E.ZP.error("\u52A0\u8F7DUSB\u6A21\u5F0F\u5931\u8D25");case 26:return s.prev=26,f.current&&F(function(e){return a()(a()({},e),{},{usbMode:!1})}),s.finish(26);case 29:return s.prev=29,F(function(e){return a()(a()({},e),{},{pdpContexts:!0})}),s.next=33,ae();case 33:s.next=39;break;case 35:s.prev=35,s.t2=s.catch(29),console.error("\u52A0\u8F7DPDP\u4E0A\u4E0B\u6587\u5931\u8D25:",s.t2),E.ZP.error("\u52A0\u8F7DPDP\u4E0A\u4E0B\u6587\u5931\u8D25");case 39:return s.prev=39,f.current&&F(function(e){return a()(a()({},e),{},{pdpContexts:!1})}),s.finish(39);case 42:return s.prev=42,s.next=45,Lr();case 45:s.next=50;break;case 47:s.prev=47,s.t3=s.catch(42),console.error("\u83B7\u53D6\u7F51\u53E3\u6A21\u5F0F\u914D\u7F6E\u5931\u8D25:",s.t3);case 50:s.next=56;break;case 52:s.prev=52,s.t4=s.catch(0),console.error("\u8FDE\u63A5\u5931\u8D25:",s.t4),E.ZP.error("\u8FDE\u63A5\u8BBE\u5907\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u8BBE\u5907\u72B6\u6001");case 56:case"end":return s.stop()}},n,null,[[0,52],[3,9,13,16],[16,22,26,29],[29,35,39,42],[42,47]])}));return function(){return t.apply(this,arguments)}}();return o(),function(){f.current=!1,T.current.disconnect()}},[]),(0,b.useEffect)(function(){f.current&&q({apn:m.apn,username:m.username,password:m.password,authType:m.authType})},[m]);var Dr=function(){var o=g()(p()().mark(function t(n,l){var s,e,u;return p()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(f.current){c.next=2;break}return c.abrupt("return");case 2:return c.prev=2,F(function(h){return a()(a()({},h),{},{dialSettings:!0})}),c.next=6,T.current.connect();case 6:return s=l||m.dialMode||2,e=n?"AT^SETAUTODIAL=1,".concat(s):"AT^SETAUTODIAL=0",c.next=10,w(e);case 10:if(u=c.sent,!(u.success&&f.current)){c.next=18;break}return E.ZP.success(n?"\u5DF2\u5F00\u542F\u81EA\u52A8\u62E8\u53F7":"\u5DF2\u5173\u95ED\u81EA\u52A8\u62E8\u53F7"),L(function(h){return a()(a()({},h),{},{enable:n?1:0})}),c.next=16,K();case 16:c.next=22;break;case 18:if(!f.current){c.next=22;break}return E.ZP.error("\u8BBE\u7F6E\u5931\u8D25"),c.next=22,K();case 22:c.next=31;break;case 24:if(c.prev=24,c.t0=c.catch(2),!f.current){c.next=31;break}return console.error("\u64CD\u4F5C\u5931\u8D25:",c.t0),E.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),c.next=31,K();case 31:return c.prev=31,f.current&&F(function(h){return a()(a()({},h),{},{dialSettings:!1})}),c.finish(31);case 34:case"end":return c.stop()}},t,null,[[2,24,31,34]])}));return function(n,l){return o.apply(this,arguments)}}(),gr=function(t){if(m.enable===1){E.ZP.warning("\u8BF7\u5148\u5173\u95ED\u81EA\u52A8\u62E8\u53F7\u540E\u518D\u4FEE\u6539\u62E8\u53F7\u65B9\u5F0F");return}le(t),te(!0)},Pr=function(){var o=g()(p()().mark(function t(){var n,l;return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(_!==null){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,F(function(u){return a()(a()({},u),{},{dialSettings:!0})}),e.next=6,T.current.connect();case 6:return n="AT^SETAUTODIAL=1,".concat(_),e.next=9,w(n);case 9:if(l=e.sent,!(l.success&&f.current)){e.next=17;break}return E.ZP.success("\u62E8\u53F7\u65B9\u5F0F\u4FEE\u6539\u6210\u529F\u5E76\u5DF2\u5F00\u542F\u81EA\u52A8\u62E8\u53F7"),L(function(u){return a()(a()({},u),{},{dialMode:_,enable:1})}),e.next=15,K();case 15:e.next=21;break;case 17:if(!f.current){e.next=21;break}return E.ZP.error("\u8BBE\u7F6E\u5931\u8D25"),e.next=21,K();case 21:e.next=30;break;case 23:if(e.prev=23,e.t0=e.catch(2),!f.current){e.next=30;break}return console.error("\u8BBE\u7F6E\u62E8\u53F7\u65B9\u5F0F\u5931\u8D25:",e.t0),E.ZP.error("\u8BBE\u7F6E\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),e.next=30,K();case 30:return e.prev=30,te(!1),le(null),F(function(u){return a()(a()({},u),{},{dialSettings:!1})}),e.finish(30);case 35:case"end":return e.stop()}},t,null,[[2,23,30,35]])}));return function(){return o.apply(this,arguments)}}(),Ar=function(t){ce(t),ie(!0)},Br=function(){var o=g()(p()().mark(function t(){var n;return p()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(ue!==null){s.next=2;break}return s.abrupt("return");case 2:return s.prev=2,F(function(e){return a()(a()({},e),{},{usbMode:!0})}),s.next=6,T.current.connect();case 6:return s.next=8,w("AT^SETMODE=".concat(ue));case 8:if(n=s.sent,!(n.success&&f.current)){s.next=15;break}return E.ZP.success("USB\u7AEF\u53E3\u6A21\u5F0F\u8BBE\u7F6E\u6210\u529F\uFF0C\u8BBE\u5907\u5373\u5C06\u91CD\u542F"),s.next=13,Oe();case 13:s.next=16;break;case 15:f.current&&E.ZP.error("\u8BBE\u7F6E\u5931\u8D25");case 16:s.next=21;break;case 18:s.prev=18,s.t0=s.catch(2),f.current&&(console.error("\u8BBE\u7F6EUSB\u6A21\u5F0F\u5931\u8D25:",s.t0),E.ZP.error("\u8BBE\u7F6E\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"));case 21:return s.prev=21,ie(!1),ce(null),F(function(e){return a()(a()({},e),{},{usbMode:!1})}),s.finish(21);case 26:case"end":return s.stop()}},t,null,[[2,18,21,26]])}));return function(){return o.apply(this,arguments)}}(),br=function(){var o=g()(p()().mark(function t(){var n,l;return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.current){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,F(function(u){return a()(a()({},u),{},{apnSettings:!0})}),e.next=6,T.current.connect();case 6:return n="AT^SETAUTODIAL=".concat(m.enable,",").concat(m.dialMode,',"').concat(m.protocol,'","').concat(R.apn,'","').concat(R.username,'","').concat(R.password,'",').concat(R.authType),e.next=9,w(n);case 9:if(l=e.sent,!(l.success&&f.current)){e.next=17;break}return E.ZP.success("APN \u8BBE\u7F6E\u5DF2\u66F4\u65B0"),L(function(u){return a()(a()({},u),{},{apn:R.apn,username:R.username,password:R.password,authType:R.authType})}),e.next=15,K();case 15:e.next=18;break;case 17:throw new Error("\u8BBE\u7F6E\u5931\u8D25");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),f.current&&(console.error("\u8BBE\u7F6E APN \u5931\u8D25:",e.t0),E.ZP.error("\u8BBE\u7F6E\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"));case 23:return e.prev=23,f.current&&F(function(u){return a()(a()({},u),{},{apnSettings:!1})}),e.finish(23);case 26:case"end":return e.stop()}},t,null,[[2,20,23,26]])}));return function(){return o.apply(this,arguments)}}(),oe=function(t){var n={1:"USB\u7F51\u7EDC\u63A5\u53E3",2:"\u8F6C\u7F51\u53E3\u6A21\u5F0F"};return n[t]||"\u672A\u77E5"},wr=function(t){switch(t){case 0:return"\u65E0\u9274\u6743";case 1:return"PAP\u9274\u6743";case 2:return"CHAP\u9274\u6743";default:return"\u672A\u77E5"}},se=function(t){var n={0:"Linux-ECM\u6B63\u5E38\u6A21\u5F0F",1:"Windows-NCM\u6B63\u5E38\u6A21\u5F0F",2:"Linux-ECM\u8C03\u8BD5\u6A21\u5F0F",3:"Windows-NCM\u8C03\u8BD5\u6A21\u5F0F",4:"Linux-NCM\u6B63\u5E38\u6A21\u5F0F",5:"Linux-NCM\u8C03\u8BD5\u6A21\u5F0F",6:"Windows-RNDIS\u5355\u7AEF\u53E3\u6A21\u5F0F",7:"Windows-MBIM\u5355\u7AEF\u53E3\u6A21\u5F0F(\u6682\u4E0D\u652F\u6301)",8:"Windows/Linux-PPP\u7AEF\u53E3\u6A21\u5F0F"};return n[t]||"\u672A\u77E5\u6A21\u5F0F"},jr=function(){var o=g()(p()().mark(function t(){var n,l,s,e,u,i,c;return p()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return F(function(C){return a()(a()({},C),{},{pdpContexts:!0})}),d.prev=1,d.next=4,T.current.connect();case 4:return d.next=6,w("AT+CGDCONT?");case 6:return n=d.sent,d.next=9,w("AT+CGACT?");case 9:l=d.sent,s=[],n.data&&(e=n.data.toString(),u=e.split(`
`).filter(function(C){return C.startsWith("+CGDCONT:")}),u.forEach(function(C){var k=C.match(/\+CGDCONT: (\d+),"([^"]*)","([^"]*)",([^,]*),?(\d*),?(\d*)/);if(k){var A=M()(k,7),Z=A[0],v=A[1],B=A[2],S=A[3],pe=A[4],I=A[5],Le=A[6];s.push({cid:Number(v),type:B,apn:S,pdp_addr:pe,d_comp:I?Number(I):0,h_comp:Le?Number(Le):0})}})),l.data&&(i=l.data.toString(),c=new Map,i.split(`
`).forEach(function(C){var k=C.match(/\+CGACT: (\d+),(\d+)/);k&&c.set(Number(k[1]),k[2]==="1")}),s.forEach(function(C){C.active=c.get(C.cid)||!1})),Er(s.filter(function(C){return C.cid!==0&&C.cid<21}));case 14:return d.prev=14,F(function(C){return a()(a()({},C),{},{pdpContexts:!1})}),d.finish(14);case 17:case"end":return d.stop()}},t,null,[[1,,14,17]])}));return function(){return o.apply(this,arguments)}}();(0,b.useEffect)(function(){jr()},[]);var Zr=function(){var o=g()(p()().mark(function t(n){var l,s;return p()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(F(function(i){return a()(a()({},i),{},{pdpContexts:!0})}),u.prev=1,!z.some(function(i){return i.cid===n.cid})){u.next=5;break}return E.ZP.error("CID \u5DF2\u5B58\u5728\uFF0C\u8BF7\u9009\u62E9\u5176\u4ED6 CID"),u.abrupt("return");case 5:return l="AT+CGDCONT=".concat(n.cid,',"').concat(n.type,'","').concat(n.apn,'",').concat(n.pdp_addr||"",",").concat(n.d_comp||0,",").concat(n.h_comp||0),console.log("\u4FDD\u5B58PDP\u4E0A\u4E0B\u6587\u547D\u4EE4:",l),u.next=9,W(g()(p()().mark(function i(){var c;return p()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,w(l);case 2:if(c=d.sent,c.success){d.next=5;break}throw new Error("\u4FDD\u5B58PDP\u4E0A\u4E0B\u6587\u5931\u8D25");case 5:return d.abrupt("return",c);case 6:case"end":return d.stop()}},i)})));case 9:if(s=u.sent,!s.success){u.next=17;break}return E.ZP.success("\u4FDD\u5B58\u6210\u529F"),ne(!1),u.next=15,ae();case 15:u.next=18;break;case 17:E.ZP.error("\u4FDD\u5B58\u5931\u8D25");case 18:u.next=24;break;case 20:u.prev=20,u.t0=u.catch(1),console.error("\u4FDD\u5B58PDP\u4E0A\u4E0B\u6587\u5931\u8D25:",u.t0),E.ZP.error("\u4FDD\u5B58\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");case 24:return u.prev=24,F(function(i){return a()(a()({},i),{},{pdpContexts:!1})}),u.finish(24);case 27:case"end":return u.stop()}},t,null,[[1,20,24,27]])}));return function(n){return o.apply(this,arguments)}}(),yr=function(){var o=g()(p()().mark(function t(n){return p()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:re.Z.confirm({title:"\u786E\u8BA4\u5220\u9664 CID ".concat(n," \u7684 PDP \u4E0A\u4E0B\u6587\uFF1F"),onOk:function(){var e=g()(p()().mark(function i(){var c;return p()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return F(function(C){return a()(a()({},C),{},{pdpContexts:!0})}),d.prev=1,d.next=4,W(g()(p()().mark(function C(){var k;return p()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,w("AT+CGDCONT=".concat(n));case 2:if(k=Z.sent,k.success){Z.next=5;break}throw new Error("\u5220\u9664PDP\u4E0A\u4E0B\u6587\u5931\u8D25");case 5:return Z.abrupt("return",k);case 6:case"end":return Z.stop()}},C)})));case 4:if(c=d.sent,!c.success){d.next=11;break}return E.ZP.success("\u5220\u9664\u6210\u529F"),d.next=9,ae();case 9:d.next=12;break;case 11:E.ZP.error("\u5220\u9664\u5931\u8D25");case 12:d.next=18;break;case 14:d.prev=14,d.t0=d.catch(1),console.error("\u5220\u9664PDP\u4E0A\u4E0B\u6587\u5931\u8D25:",d.t0),E.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");case 18:return d.prev=18,F(function(C){return a()(a()({},C),{},{pdpContexts:!1})}),d.finish(18);case 21:case"end":return d.stop()}},i,null,[[1,14,18,21]])}));function u(){return e.apply(this,arguments)}return u}()});case 1:case"end":return s.stop()}},t)}));return function(n){return o.apply(this,arguments)}}(),Sr=function(){var o=g()(p()().mark(function t(n,l){var s;return p()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return F(function(i){return a()(a()({},i),{},{pdpContexts:!0})}),u.prev=1,u.next=4,W(g()(p()().mark(function i(){var c;return p()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,w("AT+CGACT=".concat(l?1:0,",").concat(n));case 2:if(c=d.sent,c.success){d.next=5;break}throw new Error("".concat(l?"\u6FC0\u6D3B":"\u53BB\u6FC0\u6D3B","PDP\u4E0A\u4E0B\u6587\u5931\u8D25"));case 5:return d.abrupt("return",c);case 6:case"end":return d.stop()}},i)})));case 4:if(s=u.sent,!s.success){u.next=14;break}return E.ZP.success(l?"\u6FC0\u6D3B\u6210\u529F":"\u53BB\u6FC0\u6D3B\u6210\u529F"),E.ZP.loading("\u6B63\u5728\u7B49\u5F85\u8BBE\u5907\u54CD\u5E94...",2),u.next=10,new Promise(function(i){return setTimeout(i,2e3)});case 10:return u.next=12,Ue();case 12:u.next=15;break;case 14:E.ZP.error("\u64CD\u4F5C\u5931\u8D25");case 15:u.next=21;break;case 17:u.prev=17,u.t0=u.catch(1),console.error("".concat(l?"\u6FC0\u6D3B":"\u53BB\u6FC0\u6D3B","PDP\u4E0A\u4E0B\u6587\u5931\u8D25:"),u.t0),E.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");case 21:return u.prev=21,F(function(i){return a()(a()({},i),{},{pdpContexts:!1})}),u.finish(21);case 24:case"end":return u.stop()}},t,null,[[1,17,21,24]])}));return function(n,l){return o.apply(this,arguments)}}(),Ue=function(){var o=g()(p()().mark(function t(){var n,l,s,e,u,i,c,h,d,C;return p()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(f.current){A.next=2;break}return A.abrupt("return");case 2:return A.prev=2,F(function(Z){return a()(a()({},Z),{},{pdpContexts:!0})}),A.next=6,T.current.connect();case 6:return A.next=8,W(g()(p()().mark(function Z(){var v;return p()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,w("AT+CGACT?",50);case 2:if(v=S.sent,v.success){S.next=5;break}throw new Error("\u83B7\u53D6\u6FC0\u6D3B\u72B6\u6001\u5931\u8D25");case 5:return S.abrupt("return",v);case 6:case"end":return S.stop()}},Z)})));case 8:if(n=A.sent,l=new Map,n.data){s=n.data.toString().trim(),e=s.split(`
`),u=he()(e);try{for(u.s();!(i=u.n()).done;)c=i.value,c.startsWith("+CGACT:")&&(h=c.split(":")[1].split(","),h.length===2&&(d=parseInt(h[0].trim(),10),C=h[1].trim()==="1",l.set(d,C)))}catch(Z){u.e(Z)}finally{u.f()}}f.current&&(de(function(Z){return Z.map(function(v){return a()(a()({},v),{},{active:l.get(v.cid)||!1})})}),mr(!0)),A.next=18;break;case 14:A.prev=14,A.t0=A.catch(2),console.error("\u83B7\u53D6\u6FC0\u6D3B\u72B6\u6001\u5931\u8D25:",A.t0),E.ZP.error("\u83B7\u53D6\u6FC0\u6D3B\u72B6\u6001\u5931\u8D25");case 18:return A.prev=18,f.current&&F(function(Z){return a()(a()({},Z),{},{pdpContexts:!1})}),A.finish(18);case 21:case"end":return A.stop()}},t,null,[[2,14,18,21]])}));return function(){return o.apply(this,arguments)}}(),Mr=[{title:"CID",dataIndex:"cid",key:"cid",width:80,fixed:"left"},{title:"\u534F\u8BAE\u7C7B\u578B",dataIndex:"type",key:"type",width:120,render:function(t){switch(t){case"IP":return"IPv4";case"IPV6":return"IPv6";case"IPV4V6":return"IPv4/IPv6";default:return t}}},{title:"APN",dataIndex:"apn",key:"apn",width:150,ellipsis:!0,render:function(t){return t||"-"}},{title:"\u72B6\u6001",dataIndex:"active",key:"active",width:100,render:function(t){return ee?(0,r.jsx)(N.Z,{color:t?"success":"default",children:t?"\u5DF2\u6FC0\u6D3B":"\u672A\u6FC0\u6D3B"}):(0,r.jsx)(N.Z,{color:"default",children:"\u672A\u67E5\u8BE2"})}},{title:"\u64CD\u4F5C",key:"action",width:280,fixed:"right",render:function(t,n){return ee?(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(G.ZP,{type:"link",onClick:function(){$(n),ne(!0)},children:"\u7F16\u8F91"}),(0,r.jsx)(G.ZP,{type:"link",danger:!0,onClick:function(){return yr(n.cid)},children:"\u5220\u9664"}),(0,r.jsx)(G.ZP,{type:"link",onClick:function(){return Sr(n.cid,!n.active)},children:n.active?"\u53BB\u6FC0\u6D3B":"\u6FC0\u6D3B"})]}):(0,r.jsx)(G.ZP,{type:"link",disabled:!0,children:"\u8BF7\u5148\u67E5\u8BE2\u72B6\u6001"})}}],Tr=function(){return(0,r.jsx)(Q.Z,{title:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)("span",{children:"\u81EA\u52A8\u62E8\u53F7"}),(0,r.jsx)(Y.Z,{title:"\u5F00\u542F\u540E\u8BBE\u5907\u5C06\u81EA\u52A8\u4FDD\u6301\u7F51\u7EDC\u8FDE\u63A5\uFF0C\u5EFA\u8BAE\u4FDD\u6301\u5F00\u542F\u72B6\u6001",children:(0,r.jsx)(H.Z,{style:{color:"#1890ff",fontSize:"18px"}})})]}),extra:(0,r.jsx)(ze.Z,{checked:m.enable===1,onChange:function(n){return Dr(n)},loading:U.dialSettings,disabled:U.dialSettings}),children:U.dialSettings?(0,r.jsx)(J.Z,{active:!0,paragraph:{rows:4}}):(0,r.jsxs)(j.Z,{direction:"vertical",size:"middle",style:{width:"100%"},children:[(0,r.jsxs)(O.Z,{bordered:!0,column:2,size:"small",children:[(0,r.jsx)(O.Z.Item,{label:"\u62E8\u53F7\u72B6\u6001",span:1,children:(0,r.jsx)(N.Z,{color:m.enable===1?"success":"warning",children:m.enable===1?"\u5DF2\u5F00\u542F":"\u5DF2\u5173\u95ED"})}),(0,r.jsx)(O.Z.Item,{label:"\u534F\u8BAE\u7C7B\u578B",span:1,children:m.protocol||"-"})]}),(0,r.jsxs)(O.Z,{bordered:!0,column:1,children:[(0,r.jsx)(O.Z.Item,{label:"APN",children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,r.jsx)(N.Z,{color:m.apn?"processing":"default",style:{minWidth:80},children:m.apn||"\u672A\u8BBE\u7F6E"}),(0,r.jsx)(x.Z,{value:R.apn,onChange:function(n){return q(function(l){return a()(a()({},l),{},{apn:n.target.value})})},placeholder:"\u8BF7\u8F93\u5165 APN",maxLength:99,style:{flex:1}})]})}),(0,r.jsx)(O.Z.Item,{label:"\u7528\u6237\u540D",children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,r.jsx)(N.Z,{color:m.username?"processing":"default",style:{minWidth:80},children:m.username||"\u672A\u8BBE\u7F6E"}),(0,r.jsx)(x.Z,{value:R.username,onChange:function(n){return q(function(l){return a()(a()({},l),{},{username:n.target.value})})},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\uFF08\u53EF\u9009\uFF09",maxLength:31,style:{flex:1}})]})}),(0,r.jsx)(O.Z.Item,{label:"\u5BC6\u7801",children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,r.jsx)(N.Z,{color:m.password?"processing":"default",style:{minWidth:80},children:m.password?"\u5DF2\u8BBE\u7F6E":"\u672A\u8BBE\u7F6E"}),(0,r.jsx)(x.Z.Password,{value:R.password,onChange:function(n){return q(function(l){return a()(a()({},l),{},{password:n.target.value})})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF08\u53EF\u9009\uFF09",maxLength:31,style:{flex:1}})]})}),(0,r.jsx)(O.Z.Item,{label:"\u8BA4\u8BC1\u65B9\u5F0F",children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,r.jsx)(N.Z,{color:m.authType?"processing":"default",style:{minWidth:80},children:wr(m.authType)}),(0,r.jsxs)(y.Z,{value:R.authType,onChange:function(n){return q(function(l){return a()(a()({},l),{},{authType:n})})},style:{flex:1},children:[(0,r.jsx)(y.Z.Option,{value:0,children:"\u65E0\u8BA4\u8BC1"}),(0,r.jsx)(y.Z.Option,{value:1,children:"PAP \u8BA4\u8BC1"}),(0,r.jsx)(y.Z.Option,{value:2,children:"CHAP \u8BA4\u8BC1"})]})]})})]}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[(0,r.jsx)(X.Z,{message:"\u6CE8\u610F\u4E8B\u9879",description:(0,r.jsxs)("ul",{style:{margin:0,paddingLeft:16},children:[(0,r.jsx)("li",{children:"APN \u8BBE\u7F6E\u5C06\u5F71\u54CD\u8BBE\u5907\u7684\u7F51\u7EDC\u8FDE\u63A5\u65B9\u5F0F"}),(0,r.jsx)("li",{children:'\u5982\u65E0\u7279\u6B8A\u8981\u6C42\uFF0C\u8BA4\u8BC1\u65B9\u5F0F\u8BF7\u4FDD\u6301"\u65E0\u8BA4\u8BC1"'}),(0,r.jsx)("li",{children:"\u4FEE\u6539 APN \u8BBE\u7F6E\u540E\u53EF\u80FD\u9700\u8981\u91CD\u65B0\u8FDB\u884C\u7F51\u7EDC\u8FDE\u63A5"})]}),type:"info",showIcon:!0}),(0,r.jsx)(G.ZP,{type:"primary",onClick:br,loading:U.apnSettings,style:{width:"100%"},children:"\u4FDD\u5B58 APN \u8BBE\u7F6E"})]})]})})},Ir=function(){return(0,r.jsx)(Q.Z,{title:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)("span",{children:"\u62E8\u53F7\u65B9\u5F0F\u8BBE\u7F6E"}),(0,r.jsx)(Y.Z,{title:"\u4FEE\u6539\u62E8\u53F7\u65B9\u5F0F\u9700\u8981\u5148\u5173\u95ED\u81EA\u52A8\u62E8\u53F7\uFF0CUSB\u6A21\u5F0F\u9002\u7528\u4E8E\u901A\u8FC7USB\u63A5\u53E3\u8FDB\u884C\u7F51\u7EDC\u8FDE\u63A5\u7684\u573A\u666F\uFF0C\u8F6C\u7F51\u53E3\u6A21\u5F0F\u9002\u7528\u4E8E\u8F6C\u7F51\u53E3\u8FDB\u884C\u7F51\u7EDC\u8FDE\u63A5\u7684\u573A\u666F",children:(0,r.jsx)(H.Z,{style:{color:"#1890ff",fontSize:"18px"}})})]}),style:{flex:"1 1 calc(50% - 8px)",minWidth:"300px"},children:U.dialSettings?(0,r.jsx)(J.Z,{active:!0,paragraph:{rows:2}}):(0,r.jsx)(j.Z,{direction:"vertical",size:"large",style:{width:"100%"},children:(0,r.jsx)(O.Z,{bordered:!0,column:1,children:(0,r.jsx)(O.Z.Item,{label:"\u62E8\u53F7\u65B9\u5F0F",children:(0,r.jsxs)(j.Z,{direction:"vertical",style:{width:"100%"},children:[(0,r.jsx)(N.Z,{color:"blue",children:oe(m.dialMode)}),(0,r.jsxs)(y.Z,{value:m.dialMode,onChange:gr,style:{width:"100%",maxWidth:400},disabled:U.dialSettings,children:[(0,r.jsx)(y.Z.Option,{value:1,children:"USB\u6A21\u5F0F"}),(0,r.jsx)(y.Z.Option,{value:2,children:"\u8F6C\u7F51\u53E3\u6A21\u5F0F"})]})]})})})})})},kr=function(){return(0,r.jsx)(Q.Z,{title:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)("span",{children:"USB\u7AEF\u53E3\u6A21\u5F0F"}),(0,r.jsx)(Y.Z,{title:"\u4FEE\u6539USB\u7AEF\u53E3\u6A21\u5F0F\u540E\uFF0C\u8BBE\u5907\u5C06\u4F1A\u81EA\u52A8\u91CD\u542F\u4EE5\u5E94\u7528\u65B0\u7684\u914D\u7F6E\u3002\u8BF7\u786E\u4FDD\u5DF2\u4FDD\u5B58\u5176\u4ED6\u91CD\u8981\u8BBE\u7F6E\u4E14\u5F53\u524D\u65E0\u91CD\u8981\u4E1A\u52A1\u6B63\u5728\u8FDB\u884C\u3002",children:(0,r.jsx)(H.Z,{style:{color:"#1890ff",fontSize:"18px"}})})]}),style:{flex:"1 1 calc(50% - 8px)",minWidth:"300px"},children:U.usbMode?(0,r.jsx)(J.Z,{active:!0,paragraph:{rows:2}}):(0,r.jsx)(j.Z,{direction:"vertical",size:"large",style:{width:"100%"},children:(0,r.jsx)(O.Z,{bordered:!0,column:1,children:(0,r.jsx)(O.Z.Item,{label:"\u5F53\u524D\u6A21\u5F0F",children:(0,r.jsxs)(j.Z,{direction:"vertical",style:{width:"100%"},children:[(0,r.jsx)(N.Z,{color:"blue",children:se(m.usbMode||0)}),(0,r.jsx)(y.Z,{value:m.usbMode,onChange:Ar,style:{width:"100%",maxWidth:400},disabled:U.usbMode,children:[0,1,2,3,4,5,6,8].map(function(t){return(0,r.jsx)(y.Z.Option,{value:t,children:se(t)},t)})})]})})})})})},Or=function(){return(0,r.jsx)(Q.Z,{title:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)("span",{children:"\u7F51\u53E3\u6A21\u5F0F\u914D\u7F6E"}),(0,r.jsx)(Y.Z,{title:"\u914D\u7F6E\u7F51\u53E3\u6A21\u5F0F\u548C\u540E\u8DEF\u7531\u529F\u80FD\uFF0C\u4FEE\u6539\u540E\u9700\u8981\u91CD\u542F\u8BBE\u5907\u751F\u6548",children:(0,r.jsx)(H.Z,{style:{color:"#1890ff",fontSize:"18px"}})})]}),style:{flex:"1 1 calc(50% - 8px)",minWidth:"300px"},children:U.infcfg?(0,r.jsx)(J.Z,{active:!0,paragraph:{rows:2}}):(0,r.jsxs)(j.Z,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,r.jsxs)(O.Z,{bordered:!0,column:1,children:[(0,r.jsx)(O.Z.Item,{label:"\u7F51\u53E3\u6A21\u5F0F",children:(0,r.jsxs)(j.Z,{direction:"vertical",style:{width:"100%"},children:[(0,r.jsx)(N.Z,{color:"blue",children:m.infcfgMode===1?"USB Stick + \u7F51\u53E3 E5 \u6570\u4F20\u6A21\u5F0F":m.infcfgMode===2?"USB E5 + \u7F51\u53E3 E5 \u6570\u4F20\u6A21\u5F0F":m.infcfgMode===3?"\u7F51\u53E3\u76F4\u901A\u6A21\u5F0F":"\u672A\u914D\u7F6E"}),(0,r.jsxs)(y.Z,{value:m.infcfgMode,onChange:Rr,style:{width:"100%",maxWidth:400},disabled:U.infcfg,children:[(0,r.jsx)(y.Z.Option,{value:1,children:"USB Stick + \u7F51\u53E3 E5 \u6570\u4F20\u6A21\u5F0F"}),(0,r.jsx)(y.Z.Option,{value:2,children:"USB E5 + \u7F51\u53E3 E5 \u6570\u4F20\u6A21\u5F0F"}),(0,r.jsx)(y.Z.Option,{value:3,children:"\u7F51\u53E3\u76F4\u901A\u6A21\u5F0F(\u9700\u6267\u884C\u62E8\u53F7\u547D\u4EE4)"})]})]})}),(0,r.jsx)(O.Z.Item,{label:"\u540E\u8DEF\u7531",children:(0,r.jsxs)(j.Z,{direction:"vertical",style:{width:"100%"},children:[(0,r.jsx)(N.Z,{color:m.postRoute===1?"success":"default",children:m.postRoute===1?"\u5DF2\u5F00\u542F":"\u5DF2\u5173\u95ED"}),(0,r.jsxs)(y.Z,{value:m.postRoute,onChange:Wr,style:{width:"100%",maxWidth:400},disabled:U.infcfg,children:[(0,r.jsx)(y.Z.Option,{value:0,children:"\u5173\u95ED\u540E\u8DEF\u7531"}),(0,r.jsx)(y.Z.Option,{value:1,children:"\u5F00\u542F\u540E\u8DEF\u7531"})]})]})})]}),(0,r.jsx)(X.Z,{message:"\u6CE8\u610F\u4E8B\u9879",description:(0,r.jsxs)("ul",{style:{margin:0,paddingLeft:16},children:[(0,r.jsx)("li",{children:"\u4FEE\u6539\u7F51\u53E3\u6A21\u5F0F\u540E\u9700\u8981\u91CD\u542F\u8BBE\u5907\u751F\u6548"}),(0,r.jsx)("li",{children:"\u5F00\u542F\u540E\u8DEF\u7531\u524D\u4F1A\u81EA\u52A8\u5173\u95EDIP\u8FC7\u6EE4\u529F\u80FD"}),(0,r.jsx)("li",{children:"\u540E\u8DEF\u7531\u548CDMZ\u529F\u80FD\u4E92\u65A5\uFF0C\u4E0D\u80FD\u540C\u65F6\u4F7F\u7528"}),(0,r.jsx)("li",{children:"\u5EFA\u8BAE\u5728\u62E8\u53F7\u524D\u914D\u7F6E\u540E\u8DEF\u7531\u529F\u80FD"})]}),type:"info",showIcon:!0})]})})},Ur=function(){return(0,r.jsx)(Q.Z,{title:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)("span",{children:"PDP \u4E0A\u4E0B\u6587\u7BA1\u7406"}),(0,r.jsx)(Y.Z,{title:"\u7BA1\u7406 PDP \u4E0A\u4E0B\u6587\u914D\u7F6E\uFF0C\u5305\u62EC\u534F\u8BAE\u7C7B\u578B\u548C APN \u8BBE\u7F6E",children:(0,r.jsx)(H.Z,{style:{color:"#1890ff",fontSize:"18px"}})})]}),extra:(0,r.jsxs)(j.Z,{children:[ee&&(0,r.jsxs)(Ye,{type:"secondary",style:{fontSize:"12px"},children:["\u4E0A\u6B21\u67E5\u8BE2: ",new Date().toLocaleTimeString()]}),(0,r.jsx)(G.ZP,{type:"primary",icon:(0,r.jsx)(Ve.Z,{}),onClick:Ue,loading:U.pdpContexts,children:ee?"\u5237\u65B0\u72B6\u6001":"\u67E5\u8BE2\u72B6\u6001"})]}),style:{width:"100%"},children:U.pdpContexts?(0,r.jsx)(J.Z,{active:!0,paragraph:{rows:6}}):(0,r.jsxs)(j.Z,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,r.jsx)(He.Z,{dataSource:z,columns:Mr,rowKey:"cid",pagination:!1,scroll:{x:800},size:"middle"}),(0,r.jsx)(G.ZP,{type:"primary",onClick:function(){$(Xe),ne(!0)},disabled:!ee,children:"\u6DFB\u52A0 PDP \u4E0A\u4E0B\u6587"})]})})},Xr=function(){var o=g()(p()().mark(function t(n){var l;return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.current){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,F(function(u){return a()(a()({},u),{},{directIp:!0})}),e.next=6,T.current.connect();case 6:return e.next=8,W(g()(p()().mark(function u(){var i;return p()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,w("AT^SETDIRECTIP=".concat(n?1:0));case 2:if(i=h.sent,i.success){h.next=5;break}throw new Error("\u8BBE\u7F6EIP\u76F4\u901A\u5931\u8D25");case 5:return h.abrupt("return",i);case 6:case"end":return h.stop()}},u)})));case 8:l=e.sent,l.success&&f.current?(E.ZP.success(n?"\u5DF2\u5F00\u542FIP\u76F4\u901A":"\u5DF2\u5173\u95EDIP\u76F4\u901A"),L(function(u){return a()(a()({},u),{},{directIp:n})})):f.current&&E.ZP.error("\u8BBE\u7F6E\u5931\u8D25"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),f.current&&(console.error("\u8BBE\u7F6EIP\u76F4\u901A\u5931\u8D25:",e.t0),E.ZP.error("\u8BBE\u7F6E\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"));case 15:return e.prev=15,f.current&&F(function(u){return a()(a()({},u),{},{directIp:!1})}),e.finish(15);case 18:case"end":return e.stop()}},t,null,[[2,12,15,18]])}));return function(n){return o.apply(this,arguments)}}(),Lr=function(){var o=g()(p()().mark(function t(){var n,l,s,e;return p()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(f.current){i.next=2;break}return i.abrupt("return");case 2:return i.prev=2,F(function(c){return a()(a()({},c),{},{infcfg:!0})}),i.next=6,T.current.connect();case 6:return i.next=8,W(g()(p()().mark(function c(){var h;return p()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,w("AT^TDCFG?");case 2:if(h=C.sent,h.success){C.next=5;break}throw new Error("\u83B7\u53D6\u7F51\u53E3\u6A21\u5F0F\u914D\u7F6E\u5931\u8D25");case 5:return C.abrupt("return",h);case 6:case"end":return C.stop()}},c)})));case 8:n=i.sent,n.data&&(l=n.data.toString(),s=l.match(/Mode\s*:\s*(\d+)/),e=l.match(/PostRoute\s*:\s*(\d+)/),s&&L(function(c){return a()(a()({},c),{},{infcfgMode:parseInt(s[1],10)})}),e&&L(function(c){return a()(a()({},c),{},{postRoute:parseInt(e[1],10)})})),i.next=15;break;case 12:i.prev=12,i.t0=i.catch(2),console.error("\u83B7\u53D6\u7F51\u53E3\u6A21\u5F0F\u914D\u7F6E\u5931\u8D25:",i.t0);case 15:return i.prev=15,f.current&&F(function(c){return a()(a()({},c),{},{infcfg:!1})}),i.finish(15);case 18:case"end":return i.stop()}},t,null,[[2,12,15,18]])}));return function(){return o.apply(this,arguments)}}(),Rr=function(){var o=g()(p()().mark(function t(n){var l;return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.current){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,F(function(u){return a()(a()({},u),{},{infcfg:!0})}),e.next=6,T.current.connect();case 6:return e.next=8,W(g()(p()().mark(function u(){var i;return p()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,w('AT^TDCFG="infcfg","mode",'.concat(n));case 2:if(i=h.sent,i.success){h.next=5;break}throw new Error("\u8BBE\u7F6E\u7F51\u53E3\u6A21\u5F0F\u5931\u8D25");case 5:return h.abrupt("return",i);case 6:case"end":return h.stop()}},u)})));case 8:l=e.sent,l.success&&f.current?(E.ZP.success("\u7F51\u53E3\u6A21\u5F0F\u8BBE\u7F6E\u6210\u529F\uFF0C\u8BBE\u5907\u9700\u8981\u91CD\u542F\u751F\u6548"),L(function(u){return a()(a()({},u),{},{infcfgMode:n})})):f.current&&E.ZP.error("\u8BBE\u7F6E\u5931\u8D25"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),f.current&&(console.error("\u8BBE\u7F6E\u7F51\u53E3\u6A21\u5F0F\u5931\u8D25:",e.t0),E.ZP.error("\u8BBE\u7F6E\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"));case 15:return e.prev=15,f.current&&F(function(u){return a()(a()({},u),{},{infcfg:!1})}),e.finish(15);case 18:case"end":return e.stop()}},t,null,[[2,12,15,18]])}));return function(n){return o.apply(this,arguments)}}(),Wr=function(){var o=g()(p()().mark(function t(n){var l,s;return p()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(f.current){u.next=2;break}return u.abrupt("return");case 2:return u.prev=2,F(function(i){return a()(a()({},i),{},{infcfg:!0})}),u.next=6,T.current.connect();case 6:if(n!==1){u.next=12;break}return u.next=9,w("AT^IPFILTERSWITCH=0");case 9:if(l=u.sent,l.success){u.next=12;break}throw new Error("\u5173\u95EDIP\u8FC7\u6EE4\u5931\u8D25");case 12:return u.next=14,W(g()(p()().mark(function i(){var c;return p()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,w('AT^TDCFG="infcfg","PostRoute",'.concat(n));case 2:if(c=d.sent,c.success){d.next=5;break}throw new Error("\u8BBE\u7F6E\u540E\u8DEF\u7531\u5931\u8D25");case 5:return d.abrupt("return",c);case 6:case"end":return d.stop()}},i)})));case 14:s=u.sent,s.success&&f.current?(E.ZP.success(n===1?"\u5DF2\u5F00\u542F\u540E\u8DEF\u7531":"\u5DF2\u5173\u95ED\u540E\u8DEF\u7531"),L(function(i){return a()(a()({},i),{},{postRoute:n})})):f.current&&E.ZP.error("\u8BBE\u7F6E\u5931\u8D25"),u.next=21;break;case 18:u.prev=18,u.t0=u.catch(2),f.current&&(console.error("\u8BBE\u7F6E\u540E\u8DEF\u7531\u5931\u8D25:",u.t0),E.ZP.error("\u8BBE\u7F6E\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"));case 21:return u.prev=21,f.current&&F(function(i){return a()(a()({},i),{},{infcfg:!1})}),u.finish(21);case 24:case"end":return u.stop()}},t,null,[[2,18,21,24]])}));return function(n){return o.apply(this,arguments)}}();return(0,r.jsxs)(j.Z,{direction:"vertical",size:"middle",style:{width:"100%",display:"flex"},children:[Tr(),(0,r.jsxs)("div",{style:{display:"flex",gap:"16px",flexDirection:"row",flexWrap:"wrap"},children:[Ir(),kr(),Or()]}),Ur(),(0,r.jsx)(re.Z,{title:"\u4FEE\u6539\u62E8\u53F7\u65B9\u5F0F",open:nr,onOk:Pr,onCancel:function(){te(!1),le(null)},confirmLoading:U.dialSettings,okText:"\u786E\u8BA4\u4FEE\u6539",cancelText:"\u53D6\u6D88",children:(0,r.jsx)(j.Z,{direction:"vertical",style:{width:"100%"},children:(0,r.jsx)(X.Z,{message:"\u786E\u8BA4\u4FEE\u6539\u62E8\u53F7\u65B9\u5F0F\uFF1F",description:_!==null?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["\u5F53\u524D\u62E8\u53F7\u65B9\u5F0F\uFF1A",oe(m.dialMode)]}),(0,r.jsxs)("p",{children:["\u4FEE\u6539\u4E3A\uFF1A",oe(_)]}),(0,r.jsx)("p",{children:"\u8BF7\u6CE8\u610F\uFF1A"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"\u4FEE\u6539\u62E8\u53F7\u65B9\u5F0F\u540E\uFF0C\u9700\u8981\u91CD\u65B0\u5F00\u542F\u81EA\u52A8\u62E8\u53F7\u624D\u80FD\u751F\u6548"}),(0,r.jsx)("li",{children:"\u4FEE\u6539\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u4F1A\u5BFC\u81F4\u7F51\u7EDC\u8FDE\u63A5\u4E34\u65F6\u4E2D\u65AD"})]})]}):null,type:"warning",showIcon:!0})})}),(0,r.jsx)(re.Z,{title:"\u4FEE\u6539USB\u7AEF\u53E3\u6A21\u5F0F",open:sr,onOk:Br,onCancel:function(){ie(!1),ce(null)},confirmLoading:U.usbMode,okText:"\u786E\u8BA4\u4FEE\u6539",cancelText:"\u53D6\u6D88",children:(0,r.jsx)(j.Z,{direction:"vertical",style:{width:"100%"},children:(0,r.jsx)(X.Z,{message:"\u786E\u8BA4\u4FEE\u6539USB\u7AEF\u53E3\u6A21\u5F0F\uFF1F",description:ue!==null?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["\u5F53\u524D\u6A21\u5F0F\uFF1A",se(m.usbMode||0)]}),(0,r.jsxs)("p",{children:["\u4FEE\u6539\u4E3A\uFF1A",se(ue)]}),(0,r.jsx)("p",{style:{color:"#ff4d4f"},children:"\u8B66\u544A\uFF1A\u4FEE\u6539USB\u7AEF\u53E3\u6A21\u5F0F\u540E\uFF0C\u8BBE\u5907\u5C06\u4F1A\u81EA\u52A8\u91CD\u542F\uFF01"}),(0,r.jsx)("p",{children:"\u8BF7\u786E\u4FDD\uFF1A"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"\u5DF2\u4FDD\u5B58\u5176\u4ED6\u91CD\u8981\u8BBE\u7F6E"}),(0,r.jsx)("li",{children:"\u5F53\u524D\u65E0\u91CD\u8981\u4E1A\u52A1\u6B63\u5728\u8FDB\u884C"}),(0,r.jsx)("li",{children:"\u4E86\u89E3\u4E0D\u540C\u7AEF\u53E3\u6A21\u5F0F\u7684\u7528\u9014"})]})]}):null,type:"warning",showIcon:!0})})}),(0,r.jsx)(re.Z,{title:P!=null&&P.cid?"\u7F16\u8F91 PDP \u4E0A\u4E0B\u6587 (CID: ".concat(P.cid,")"):"\u6DFB\u52A0 PDP \u4E0A\u4E0B\u6587",open:Te,onCancel:function(){return ne(!1)},onOk:function(){if(!(P!=null&&P.cid)||!(P!=null&&P.type)){E.ZP.error("\u8BF7\u586B\u5199 CID \u548C\u534F\u8BAE\u7C7B\u578B");return}Zr(P)},width:500,children:(0,r.jsxs)(j.Z,{direction:"vertical",style:{width:"100%"},size:"large",children:[(0,r.jsx)(X.Z,{message:"\u63D0\u793A",description:"CID \u548C\u534F\u8BAE\u7C7B\u578B\u4E3A\u5FC5\u586B\u9879\uFF0CAPN \u548C\u5176\u4ED6\u9879\u4E3A\u53EF\u9009\u9879\u3002\u5982\u65E0\u7279\u6B8A\u9700\u6C42\uFF0CAPN \u53EF\u4E0D\u586B\uFF0C\u8BBE\u5907\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C\u3002",type:"info",showIcon:!0}),(0,r.jsxs)(V.Z,{layout:"vertical",children:[(0,r.jsx)(V.Z.Item,{label:"CID",required:!0,tooltip:"\u4E0A\u4E0B\u6587\u6807\u8BC6\u7B26\uFF0C\u8303\u56F4 1-20",children:(0,r.jsx)(x.Z,{value:P==null?void 0:P.cid,onChange:function(t){var n=Number(t.target.value);n>=1&&n<=20&&$(function(l){return l?a()(a()({},l),{},{cid:n}):null})},type:"number",min:1,max:20,disabled:Te&&(P==null?void 0:P.cid)!==void 0&&z.some(function(o){return o.cid===P.cid}),placeholder:"\u8BF7\u8F93\u5165 CID (1-20)"})}),(0,r.jsx)(V.Z.Item,{label:"\u534F\u8BAE\u7C7B\u578B",required:!0,tooltip:"\u9009\u62E9 PDP \u4E0A\u4E0B\u6587\u7684\u534F\u8BAE\u7C7B\u578B",children:(0,r.jsx)(y.Z,{value:P==null?void 0:P.type,onChange:function(t){return $(function(n){return n?a()(a()({},n),{},{type:t}):null})},options:Je,style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u534F\u8BAE\u7C7B\u578B"})}),(0,r.jsx)(V.Z.Item,{label:"APN",tooltip:"\u63A5\u5165\u70B9\u540D\u79F0\uFF0C\u7531\u8FD0\u8425\u5546\u63D0\u4F9B\u3002\u5982\u65E0\u7279\u6B8A\u9700\u6C42\u53EF\u4E0D\u586B\uFF0C\u8BBE\u5907\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C",children:(0,r.jsx)(x.Z,{value:P==null?void 0:P.apn,onChange:function(t){return $(function(n){return n?a()(a()({},n),{},{apn:t.target.value}):null})},placeholder:"\u8BF7\u8F93\u5165 APN\uFF08\u53EF\u9009\uFF09",maxLength:99})}),(0,r.jsx)(V.Z.Item,{label:"PDP \u5730\u5740",tooltip:"\u53EF\u9009\uFF0C\u7531\u7F51\u7EDC\u5206\u914D",children:(0,r.jsx)(x.Z,{value:P==null?void 0:P.pdp_addr,onChange:function(t){return $(function(n){return n?a()(a()({},n),{},{pdp_addr:t.target.value}):null})},placeholder:"PDP \u5730\u5740\uFF08\u53EF\u9009\uFF09"})}),(0,r.jsxs)(Qe.Z,{gutter:16,children:[(0,r.jsx)(Ee.Z,{span:12,children:(0,r.jsx)(V.Z.Item,{label:"\u6570\u636E\u538B\u7F29",tooltip:"0: \u7981\u7528, 1: V.42bis, 2: V.44",children:(0,r.jsx)(y.Z,{value:P==null?void 0:P.d_comp,onChange:function(t){return $(function(n){return n?a()(a()({},n),{},{d_comp:t}):null})},options:[{value:0,label:"\u7981\u7528"},{value:1,label:"V.42bis"},{value:2,label:"V.44"}],style:{width:"100%"}})})}),(0,r.jsx)(Ee.Z,{span:12,children:(0,r.jsx)(V.Z.Item,{label:"\u5934\u538B\u7F29",tooltip:"0: \u7981\u7528, 1: RFC1144, 2: RFC2507, 3: RFC3095",children:(0,r.jsx)(y.Z,{value:P==null?void 0:P.h_comp,onChange:function(t){return $(function(n){return n?a()(a()({},n),{},{h_comp:t}):null})},options:[{value:0,label:"\u7981\u7528"},{value:1,label:"RFC1144"},{value:2,label:"RFC2507"},{value:3,label:"RFC3095"}],style:{width:"100%"}})})})]})]})]})})]})};fe.default=_e}}]);
